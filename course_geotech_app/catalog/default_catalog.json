{
  "helper_functions": {
    "tg": "tan",
    "ctg": "1/tan",
    "arctg": "atan",
    "arcsin": "asin",
    "arccos": "acos"
  },
  "formulas": [
    {
      "id": "MC_ANGLE_MAX_SHEAR_PLANE",
      "name": "Maximum Shear Plane Angle",
      "equation": "theta_max_shear = pi/4 + phi/2",
      "variables": ["theta_max_shear", "phi"],
      "assumptions": "Mohr-Coulomb material",
      "units": {"theta_max_shear": "rad", "phi": "rad"},
      "reference_label": "Chap6 p4",
      "notes": "Angle of maximum shear plane as shown in course.",
      "is_rule_only": false,
      "requires_confirmation": false,
      "enabled": true
    },
    {
      "id": "MC_FAILURE",
      "name": "Mohr-Coulomb Failure Criterion",
      "equation": "tau_failure = c + sigma_n_failure * tg(phi)",
      "variables": ["tau_failure", "c", "sigma_n_failure", "phi"],
      "assumptions": "Mohr-Coulomb failure criterion",
      "units": {"tau_failure": "kPa", "c": "kPa", "sigma_n_failure": "kPa", "phi": "rad"},
      "reference_label": "Chap6 p4",
      "notes": "Course notation uses tg(phi) = tan(phi).",
      "is_rule_only": false,
      "requires_confirmation": false,
      "enabled": true
    },
    {
      "id": "EFFECTIVE_STRESS",
      "name": "Effective Stress Principle",
      "equation": "sigma_eff = sigma_total - u",
      "variables": ["sigma_eff", "sigma_total", "u"],
      "assumptions": "Terzaghi effective stress principle",
      "units": {"sigma_eff": "kPa", "sigma_total": "kPa", "u": "kPa"},
      "reference_label": "Chap6 p6",
      "notes": "sigma' = sigma - u",
      "is_rule_only": false,
      "requires_confirmation": false,
      "enabled": true
    },
    {
      "id": "DRAINED_VS_UNDRAINED_RULES",
      "name": "Drained vs Undrained Behavior",
      "equation": "RULE: drained => u = 0; undrained => u != 0",
      "variables": [],
      "assumptions": "",
      "units": {},
      "reference_label": "Chap6 p6",
      "notes": "Course distinguishes drained vs undrained behavior.",
      "is_rule_only": true,
      "requires_confirmation": false,
      "enabled": true
    },
    {
      "id": "TRIAXIAL_TEST_TYPES",
      "name": "Triaxial Test Types",
      "equation": "RULE: CD=consolidated drained; CU=consolidated undrained; UU=unconsolidated undrained",
      "variables": [],
      "assumptions": "",
      "units": {},
      "reference_label": "Chap6 p13-14",
      "notes": "CD: negligible excess pore pressure; CU: measure u during shearing; UU: closed drainage.",
      "is_rule_only": true,
      "requires_confirmation": false,
      "enabled": true
    },
    {
      "id": "ENVELOPE_FROM_MOHR_CIRCLES",
      "name": "Envelope from Mohr Circles (Graphical)",
      "equation": "PROCEDURE: Draw tangent line to Mohr circles from different tests",
      "variables": [],
      "assumptions": "Multiple test data available",
      "units": {},
      "reference_label": "Chap6 p17",
      "notes": "Interactive tangent-line tool; numeric assistance OK but framed as graphical.",
      "is_rule_only": true,
      "requires_confirmation": false,
      "enabled": true
    },
    {
      "id": "UU_STRENGTH",
      "name": "Undrained Shear Strength (UU)",
      "equation": "tau_failure_UU = Cu",
      "variables": ["tau_failure_UU", "Cu"],
      "assumptions": "Undrained unconsolidated conditions",
      "units": {"tau_failure_UU": "kPa", "Cu": "kPa"},
      "reference_label": "Chap6 p20",
      "notes": "Undrained condition: tau_failure(UU) = Cu.",
      "is_rule_only": false,
      "requires_confirmation": false,
      "enabled": true
    },
    {
      "id": "MOHR_CIRCLE_CENTER",
      "name": "Mohr Circle Center",
      "equation": "center = (sigma_1 + sigma_3) / 2",
      "variables": ["center", "sigma_1", "sigma_3"],
      "assumptions": "Standard Mohr circle geometry",
      "units": {"center": "kPa", "sigma_1": "kPa", "sigma_3": "kPa"},
      "reference_label": "REQUIRES USER CONFIRMATION",
      "notes": "Placeholder - confirm this matches your course.",
      "is_rule_only": false,
      "requires_confirmation": true,
      "enabled": false
    },
    {
      "id": "MOHR_CIRCLE_RADIUS",
      "name": "Mohr Circle Radius",
      "equation": "radius = (sigma_1 - sigma_3) / 2",
      "variables": ["radius", "sigma_1", "sigma_3"],
      "assumptions": "Standard Mohr circle geometry",
      "units": {"radius": "kPa", "sigma_1": "kPa", "sigma_3": "kPa"},
      "reference_label": "REQUIRES USER CONFIRMATION",
      "notes": "Placeholder - confirm this matches your course.",
      "is_rule_only": false,
      "requires_confirmation": true,
      "enabled": false
    },
    {
      "id": "SIGMA1_FROM_DEVIATOR",
      "name": "Major Principal Stress from Deviator",
      "equation": "sigma_1 = sigma_3 + deviator_stress",
      "variables": ["sigma_1", "sigma_3", "deviator_stress"],
      "assumptions": "Triaxial test definition",
      "units": {"sigma_1": "kPa", "sigma_3": "kPa", "deviator_stress": "kPa"},
      "reference_label": "REQUIRES USER CONFIRMATION",
      "notes": "Placeholder - confirm this matches your course.",
      "is_rule_only": false,
      "requires_confirmation": true,
      "enabled": false
    },
    {
      "id": "EFFECTIVE_SIGMA1",
      "name": "Effective Major Principal Stress",
      "equation": "sigma_1_eff = sigma_1 - u",
      "variables": ["sigma_1_eff", "sigma_1", "u"],
      "assumptions": "Effective stress principle applied to principal stress",
      "units": {"sigma_1_eff": "kPa", "sigma_1": "kPa", "u": "kPa"},
      "reference_label": "REQUIRES USER CONFIRMATION",
      "notes": "Placeholder - confirm this matches your course.",
      "is_rule_only": false,
      "requires_confirmation": true,
      "enabled": false
    },
    {
      "id": "EFFECTIVE_SIGMA3",
      "name": "Effective Minor Principal Stress",
      "equation": "sigma_3_eff = sigma_3 - u",
      "variables": ["sigma_3_eff", "sigma_3", "u"],
      "assumptions": "Effective stress principle applied to principal stress",
      "units": {"sigma_3_eff": "kPa", "sigma_3": "kPa", "u": "kPa"},
      "reference_label": "REQUIRES USER CONFIRMATION",
      "notes": "Placeholder - confirm this matches your course.",
      "is_rule_only": false,
      "requires_confirmation": true,
      "enabled": false
    }
  ]
}
